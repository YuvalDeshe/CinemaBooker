{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nizar/Desktop/software_eng/CinemaBooker/cinema-booker/src/app/register/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\n\nexport default function RegisterPage() {\n  const [formData, setFormData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    username: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    isRegisteredForPromos: false,\n  });\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const router = useRouter();\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setSuccess(\"\");\n    setIsLoading(true);\n\n    // Validation\n    if (formData.password !== formData.confirmPassword) {\n      setError(\"Passwords do not match\");\n      setIsLoading(false);\n      return;\n    }\n\n    if (formData.password.length < 6) {\n      setError(\"Password must be at least 6 characters long\");\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      const response = await fetch(\"/api/users\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          firstName: formData.firstName,\n          lastName: formData.lastName,\n          email: formData.email,\n          username: formData.username,\n          password: formData.password,\n          isRegisteredForPromos: formData.isRegisteredForPromos,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        setSuccess(data.message || \"Registration successful! Please check your email to verify your account.\");\n        // Clear form\n        setFormData({\n          firstName: \"\",\n          lastName: \"\",\n          email: \"\",\n          username: \"\",\n          password: \"\",\n          confirmPassword: \"\",\n          isRegisteredForPromos: false,\n        });\n        // Redirect to login after a delay\n        setTimeout(() => {\n          router.push(\"/login\");\n        }, 3000);\n      } else {\n        setError(data.message || \"Registration failed\");\n      }\n    } catch (error) {\n      setError(\"An error occurred during registration\");\n      console.error(\"Registration error:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n  <div className=\"relative min-h-screen flex items-center justify-center bg-[#0b1221] text-white\">\n    <BackgroundReel />\n\n    <div className=\"relative z-10 w-full max-w-md p-[1px] rounded-2xl bg-gradient-to-b from-blue-500/60 via-blue-400/20 to-transparent\">\n      <div className=\"bg-[#1b2235]/85 backdrop-blur-md rounded-2xl shadow-2xl border border-gray-700/60 p-8\">\n        <h1 className=\"text-3xl font-semibold text-center mb-2\">Register</h1>\n        <p className=\"text-center text-sm text-gray-300 mb-6\">\n          Create your <span className=\"font-medium\">Cinema E-Booking</span> account\n        </p>\n\n        {error && (\n          <div className=\"mb-4 rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200\">\n            {error}\n          </div>\n        )}\n\n        {success && (\n          <div className=\"mb-4 rounded-md border border-green-500/60 bg-green-500/10 px-3 py-2 text-sm text-green-200\">\n            {success}\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"grid grid-cols-2 gap-3\">\n            <div>\n              <label htmlFor=\"firstName\" className=\"block mb-1 text-gray-300\">\n                First Name\n              </label>\n              <input\n                id=\"firstName\"\n                name=\"firstName\"\n                type=\"text\"\n                required\n                autoComplete=\"given-name\"\n                className=\"w-full p-3 rounded-md bg-gray-100 text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-400\"\n                placeholder=\"John\"\n                value={formData.firstName}\n                onChange={handleChange}\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"lastName\" className=\"block mb-1 text-gray-300\">\n                Last Name\n              </label>\n              <input\n                id=\"lastName\"\n                name=\"lastName\"\n                type=\"text\"\n                required\n                autoComplete=\"family-name\"\n                className=\"w-full p-3 rounded-md bg-gray-100 text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-400\"\n                placeholder=\"Doe\"\n                value={formData.lastName}\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n\n          <div>\n            <label htmlFor=\"email\" className=\"block mb-1 text-gray-300\">\n              Email\n            </label>\n            <input\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              required\n              autoComplete=\"email\"\n              className=\"w-full p-3 rounded-md bg-gray-100 text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-400\"\n              placeholder=\"you@example.com\"\n              value={formData.email}\n              onChange={handleChange}\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"password\" className=\"block mb-1 text-gray-300\">\n              Password\n            </label>\n            <input\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              required\n              autoComplete=\"new-password\"\n              className=\"w-full p-3 rounded-md bg-gray-100 text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-400\"\n              placeholder=\"••••••••\"\n              value={formData.password}\n              onChange={handleChange}\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"confirmPassword\" className=\"block mb-1 text-gray-300\">\n              Confirm Password\n            </label>\n            <input\n              id=\"confirmPassword\"\n              name=\"confirmPassword\"\n              type=\"password\"\n              required\n              autoComplete=\"new-password\"\n              className=\"w-full p-3 rounded-md bg-gray-100 text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-400\"\n              placeholder=\"••••••••\"\n              value={formData.confirmPassword}\n              onChange={handleChange}\n            />\n          </div>\n\n          <div className=\"flex items-center\">\n            <input\n              id=\"isRegisteredForPromos\"\n              name=\"isRegisteredForPromos\"\n              type=\"checkbox\"\n              className=\"h-4 w-4 text-indigo-400 focus:ring-blue-400 border-gray-400 rounded bg-white\"\n              checked={formData.isRegisteredForPromos}\n              onChange={handleChange}\n            />\n            <label htmlFor=\"isRegisteredForPromos\" className=\"ml-2 block text-sm text-gray-300\">\n              Subscribe to promotional emails\n            </label>\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={isLoading}\n            className=\"w-full bg-blue-500 hover:bg-blue-600 disabled:opacity-60 disabled:cursor-not-allowed text-white font-semibold py-2.5 rounded-md transition-all duration-200\"\n          >\n            {isLoading ? \"Creating account…\" : \"Register\"}\n          </button>\n        </form>\n\n        <p className=\"text-center mt-6 text-gray-300\">\n          Already have an account?{\" \"}\n          <a href=\"/login\" className=\"text-blue-300 hover:text-blue-200 underline\">\n            Login\n          </a>\n        </p>\n      </div>\n    </div>\n  </div>\n);\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}