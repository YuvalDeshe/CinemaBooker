{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 9, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/cinema-booker/src/app/components/topbar.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"button\": \"topbar-module__qvX02G__button\",\n  \"buttonText\": \"topbar-module__qvX02G__buttonText\",\n  \"dropdownMenu\": \"topbar-module__qvX02G__dropdownMenu\",\n  \"dropdownMenuButtons\": \"topbar-module__qvX02G__dropdownMenuButtons\",\n  \"dropdownMenuContainer\": \"topbar-module__qvX02G__dropdownMenuContainer\",\n  \"icon\": \"topbar-module__qvX02G__icon\",\n  \"loginButton\": \"topbar-module__qvX02G__loginButton\",\n  \"mainHeading\": \"topbar-module__qvX02G__mainHeading\",\n  \"slideDown\": \"topbar-module__qvX02G__slideDown\",\n  \"topBar\": \"topbar-module__qvX02G__topBar\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///Users/nizar/Desktop/software_eng/CinemaBooker/cinema-booker/src/app/components/TopBar.tsx"],"sourcesContent":["'use client'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHouse, faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport styles from \"./topbar.module.css\"\nimport { useRouter } from \"next/navigation\";\nimport { useState, useRef, useEffect} from 'react';\nimport { useSession, signOut } from 'next-auth/react';\n\nexport default function TopBar() {\nconst router = useRouter();\nconst { data: session, status } = useSession();\n\n// useRef (and other below items) used for the positioning of the profile icon dropdown\nconst [isExpanded, setIsExpanded] = useState(false);\nconst [position, setPosition] = useState<{ top: number; left: number }>({ top: 0, left: 0 });\nconst buttonRef = useRef<HTMLButtonElement | null>(null);\nconst menuRef = useRef<HTMLDivElement | null>(null);\n\n//**NOTE**: isLoggedIn controls the dynamic rendering of either the profile icon (if logged in) OR login button (if not logged in)\n//Tweak it as necessary to change based off the user session information.\nconst [isLoggedIn, setIsLoggedIn] = useState(true);\n\n//Navigate to Home Page\nconst homeHandler = () => {\n  router.push('/');\n};\n\n//Navigate to Login Page\nconst loginHandler = () => {\n  router.push('/login')\n}\n\n//Handler for Profile Button, toggles visibility of dropdown menu.\nconst toggleUserMenu = () => {\n  if (buttonRef.current) {\n    const rect = buttonRef.current.getBoundingClientRect();\n    setPosition({\n      top: rect.bottom + window.scrollY, // below the button\n      left: rect.left + window.scrollX + 8,\n    });\n  }\n  setIsExpanded((prev) => !prev);\n};\n\n\n//**NOTE**: Edit this handler to log the user out.\nconst logoutHandler = () => {\n  console.log(\"Logout Clicked!\")\n  signOut();\n  // globalThis.location.reload();\n}\n\n//**NOTE**: Edit the URL of this to reflect the User ID of the currently logged-in user.\nconst editProfileHandler = () => {\n  router.push('/user/USER_ID/profile/edit')\n}\n\n//If the user clicks outside of the menu, this useEffect handle closes the menu\nuseEffect(() => {\n  const handleOutsideClick = (e: MouseEvent) => {\n    if (\n      buttonRef.current &&\n      menuRef.current &&\n      !buttonRef.current.contains(e.target as Node) &&\n      !menuRef.current.contains(e.target as Node)\n    ) {\n      setIsExpanded(false);\n    }\n  };\n\n  document.addEventListener(\"mousedown\", handleOutsideClick);\n  return () => document.removeEventListener(\"mousedown\", handleOutsideClick);\n}, []);\n\nreturn (\n    <div className={styles.topBar}>\n        <button className={styles.button} onClick={homeHandler}>\n          <FontAwesomeIcon className={styles.icon} icon={faHouse}/> \n          <p className={styles.buttonText}>Home</p> \n        </button>\n        <h2 className={styles.mainHeading}>Cinema E-Booking Site</h2>\n        {/* {isLoggedIn ? ( */}\n        {status === \"authenticated\" && session?.user && (\n        <button className={styles.button} onClick={toggleUserMenu} ref={buttonRef} id='buttonID'>\n          <FontAwesomeIcon className={styles.icon} icon={faUser} />\n          <p className={styles.buttonText}>Profile</p> \n        </button>\n        )}\n        {status === \"unauthenticated\" && ( \n        <button className={styles.loginButton} onClick={loginHandler} ref={buttonRef} id='buttonID'>\n          <p className={styles.buttonText}>Login</p> \n        </button>)}\n        {status === \"loading\" && (\n          <p>Loading session...</p>\n        )}\n        {isExpanded && (\n          <div\n          className={styles.dropdownMenu}\n          style={{ top: position.top, left: position.left }}\n          ref={menuRef}\n        >\n          <ul className={styles.dropdownMenuContainer}>\n            <button className={styles.dropdownMenuButtons} onClick={editProfileHandler}>\n              <p>Edit Profile</p>\n            </button>\n            <button className={styles.dropdownMenuButtons} onClick={logoutHandler}>\n              <p>Logout</p>\n            </button>\n          </ul>\n        </div>\n        )}\n      </div>\n    )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///Users/nizar/Desktop/software_eng/CinemaBooker/cinema-booker/src/app/components/providers.tsx"],"sourcesContent":["\"use client\";\n\nimport { SessionProvider } from \"next-auth/react\";\nimport React from \"react\";\n\nexport default function Providers({ children }: { children: React.ReactNode }) {\n    return <SessionProvider>{children}</SessionProvider>;\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAKe,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACzE,qBAAO,kQAAC,qLAAe;kBAAE;;;;;;AAC7B","debugId":null}}]
}