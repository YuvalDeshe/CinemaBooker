{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nizar/Desktop/software_eng/CinemaBooker/cinema-booker/src/app/components/LoginForm.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport BackgroundReel from \"@/app/components/BackgroundReel\";\n\ntype LoginFormProps = {\n  handleLogin: (email: string, password: string) => Promise<void> | void;\n};\n\nexport default function LoginForm({ handleLogin }: LoginFormProps) {\n  const [showPw, setShowPw] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState<string | null>(null);\n\n  const onSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setErr(null);\n    const data = new FormData(e.currentTarget);\n    const email = String(data.get(\"email\") ?? \"\");\n    const password = String(data.get(\"password\") ?? \"\");\n    try {\n      setLoading(true);\n      await handleLogin(email, password);\n    } catch (e: any) {\n      setErr(e?.message ?? \"Login failed. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"relative min-h-screen flex items-center justify-center bg-[#0b1221] text-white\">\n      <main className=\"flex items-center justify-center min-h-screen bg-black\">\n      <img\n        src=\"/posters/fightclub.jpeg\"\n        alt=\"Fight Club\"\n        className=\"w-[300px] h-auto rounded-xl shadow-lg\"\n      />\n    </main>\n\n      <div className=\"relative z-10 w-full max-w-md p-[1px] rounded-2xl bg-gradient-to-b from-blue-500/60 via-blue-400/20 to-transparent\">\n        <div className=\"bg-[#1b2235]/85 backdrop-blur-md rounded-2xl shadow-2xl border border-gray-700/60 p-8\">\n          <h1 className=\"text-3xl font-semibold text-center mb-2\">Login</h1>\n          <p className=\"text-center text-sm text-gray-300 mb-6\">\n            Welcome back to <span className=\"font-medium\">Cinema E-Booking</span>\n          </p>\n\n          {err && (\n            <div className=\"mb-4 rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200\">\n              {err}\n            </div>\n          )}\n\n          <form onSubmit={onSubmit} className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"email\" className=\"block mb-1 text-gray-300\">\n                Email\n              </label>\n              <input\n                id=\"email\"\n                type=\"email\"\n                name=\"email\"\n                required\n                autoComplete=\"email\"\n                className=\"w-full p-3 rounded-md bg-gray-100 text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-400\"\n                placeholder=\"you@example.com\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block mb-1 text-gray-300\">\n                Password\n              </label>\n              <div className=\"relative\">\n                <input\n                  id=\"password\"\n                  type={showPw ? \"text\" : \"password\"}\n                  name=\"password\"\n                  required\n                  autoComplete=\"current-password\"\n                  className=\"w-full p-3 pr-10 rounded-md bg-gray-100 text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-400\"\n                  placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPw((s) => !s)}\n                  className=\"absolute inset-y-0 right-2 my-auto px-2 rounded-md text-gray-700/80 hover:text-gray-900 focus:outline-none\"\n                  aria-label={showPw ? \"Hide password\" : \"Show password\"}\n                  tabIndex={-1}\n                >\n                  {showPw ? \"üôà\" : \"üëÅÔ∏è\"}\n                </button>\n              </div>\n              <div className=\"mt-2 flex items-center justify-between text-sm\">\n                <label className=\"inline-flex items-center gap-2 text-gray-300\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"h-4 w-4 rounded border-gray-400 text-blue-500 focus:ring-blue-400\"\n                  />\n                  Remember me\n                </label>\n                <a href=\"/forgot\" className=\"text-blue-300 hover:text-blue-200 underline\">\n                  Forgot password?\n                </a>\n              </div>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full bg-blue-500 hover:bg-blue-600 disabled:opacity-60 disabled:cursor-not-allowed text-white font-semibold py-2.5 rounded-md transition-all duration-200\"\n            >\n              {loading ? \"Logging in‚Ä¶\" : \"Log In\"}\n            </button>\n\n            <div className=\"relative my-2\">\n              <div className=\"absolute inset-0 flex items-center\">\n                <div className=\"w-full border-t border-gray-600/60\" />\n              </div>\n              <div className=\"relative flex justify-center\">\n                <span className=\"bg-transparent px-3 text-xs text-gray-400\">or</span>\n              </div>\n            </div>\n\n            {/* add OAuth later if you want */}\n            <div className=\"grid grid-cols-2 gap-3\">\n              <button\n                type=\"button\"\n                className=\"rounded-md border border-gray-600/60 bg-[#22283b]/60 hover:bg-[#22283b] py-2 text-sm\"\n              >\n                Continue with Google\n              </button>\n              <button\n                type=\"button\"\n                className=\"rounded-md border border-gray-600/60 bg-[#22283b]/60 hover:bg-[#22283b] py-2 text-sm\"\n              >\n                Continue with GitHub\n              </button>\n            </div>\n          </form>\n\n          <p className=\"text-center mt-6 text-gray-300\">\n            Don‚Äôt have an account?{\" \"}\n            <a href=\"/register\" className=\"text-blue-300 hover:text-blue-200 underline\">\n              Register\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 347, "column": 0}, "map": {"version":3,"sources":["file:///Users/nizar/Desktop/software_eng/CinemaBooker/cinema-booker/src/app/actions/index.ts"],"sourcesContent":["'use client';\n\n// import { signIn, signOut } from \"@/app/api/auth/route\";\nimport { signIn, signOut } from 'next-auth/react';\n\nexport async function doLogout() {\n    await signOut({ redirect: true, callbackUrl: \"/\"});\n}\n\nexport async function doCredentialLogin(email: string, password: string): Promise<any> {\n    try {\n        const response = await signIn(\"credentials\", {\n            email,\n            password,\n            redirect: false, // change this to true if we run into issues\n                             // i copied it from our web-dev project but we may want it to be true\n        });\n\n        return response;\n    } catch (err: any) {\n        throw err;\n    }\n}"],"names":[],"mappings":";;;;;;AAEA,0DAA0D;AAC1D;AAHA;;AAKO,eAAe;IAClB,MAAM,IAAA,gLAAO,EAAC;QAAE,UAAU;QAAM,aAAa;IAAG;AACpD;AAEO,eAAe,kBAAkB,KAAa,EAAE,QAAgB;IACnE,IAAI;QACA,MAAM,WAAW,MAAM,IAAA,+KAAM,EAAC,eAAe;YACzC;YACA;YACA,UAAU;QAEd;QAEA,OAAO;IACX,EAAE,OAAO,KAAU;QACf,MAAM;IACV;AACJ","debugId":null}},
    {"offset": {"line": 382, "column": 0}, "map": {"version":3,"sources":["file:///Users/nizar/Desktop/software_eng/CinemaBooker/cinema-booker/src/app/login/page.tsx"],"sourcesContent":["'use client';\nimport LoginForm from \"@/app/components/LoginForm\";\nimport { doCredentialLogin } from '@/app/actions';\nimport { useState } from \"react\";\n\n// TODO: (future deliverable) move this function to its own class to follow SOLID design principles and adhere to MVC framework\nasync function login(email: string, password: string) {\n\n    try {\n        const response = await doCredentialLogin(email, password);\n        if (response?.error) {\n            console.error(`login error: ${response.error}`)\n        }\n            globalThis.location.href = '/';\n    } catch (err) {\n        console.error('LOGIN ERROR: ', err)\n    }\n    // try {\n    //     console.log(`Attempting login for email: ${email}`);\n\n    //     const response = await fetch('/api/login', {\n    //         method: 'POST',\n    //         headers: {\n    //             'Content-Type': 'application/json',\n    //         },\n    //         body: JSON.stringify({ email, password }),\n    //     });\n\n    //     const data = await response.json();\n\n    //     if (response.ok) {\n    //         // TODO: test that the user is successfully put on the home page after login\n    //         // globalThis.location.href = '/';\n    //         console.log(\"Login Successful! User data:\", data.user);\n    //         return { success: true, user: data.user };\n    //     } else {\n    //         console.error(\"Login Failed:\", data.message);\n    //         return { success: false, message: data.message };\n    //     }\n    // } catch (error) {\n    //     console.error(\"Network or parsing error during login:\", error);\n    //     return { success: false, message: \"An unexpected network error occurred.\" };\n    // }\n}\n\nexport default function Login() {\n    return(\n        <div>\n            <LoginForm handleLogin={login}></LoginForm>\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAKA,+HAA+H;AAC/H,eAAe,MAAM,KAAa,EAAE,QAAgB;IAEhD,IAAI;QACA,MAAM,WAAW,MAAM,IAAA,0KAAiB,EAAC,OAAO;QAChD,IAAI,qBAAA,+BAAA,SAAU,KAAK,EAAE;YACjB,QAAQ,KAAK,CAAC,AAAC,gBAA8B,OAAf,SAAS,KAAK;QAChD;QACI,WAAW,QAAQ,CAAC,IAAI,GAAG;IACnC,EAAE,OAAO,KAAK;QACV,QAAQ,KAAK,CAAC,iBAAiB;IACnC;AACA,QAAQ;AACR,2DAA2D;AAE3D,mDAAmD;AACnD,0BAA0B;AAC1B,qBAAqB;AACrB,kDAAkD;AAClD,aAAa;AACb,qDAAqD;AACrD,UAAU;AAEV,0CAA0C;AAE1C,yBAAyB;AACzB,uFAAuF;AACvF,6CAA6C;AAC7C,kEAAkE;AAClE,qDAAqD;AACrD,eAAe;AACf,wDAAwD;AACxD,4DAA4D;AAC5D,QAAQ;AACR,oBAAoB;AACpB,sEAAsE;AACtE,mFAAmF;AACnF,IAAI;AACR;AAEe,SAAS;IACpB,qBACI,iNAAC;kBACG,cAAA,iNAAC,wKAAS;YAAC,aAAa;;;;;;;;;;;AAGpC;KANwB","debugId":null}}]
}